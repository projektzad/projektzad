<!-- templates/checkbox_form.html -->
{% extends "base.html" %}

{% block content %}
    <h1>Select Options</h1>
    
    <form method="POST" action="{{ url_for('main.checkbox_form') }}">
        <div class="form-group">
            <label for="checkboxes">Choose your options:</label>
            <div id="checkboxes">
                {% for option in options %}
                    <div class="form-check">
                        <input type="checkbox" class="form-check-input" id="{{ option }}" name="selected_options" value="{{ option }}"
                            {% if option in preselected_options %} checked {% endif %}>
                        <label class="form-check-label" for="{{ option }}">{{ option }}</label>
                    </div>
                {% endfor %}
            </div>
        </div>

        <!-- Buttons to select or deselect all checkboxes -->
        <div class="form-group">
            <button type="button" class="btn btn-secondary" onclick="selectAll()">Select All</button>
            <button type="button" class="btn btn-secondary" onclick="deselectAll()">Deselect All</button>
        </div>

        <button type="submit" class="btn btn-primary">Submit</button>
    </form>

    <script>
        // Function to select all checkboxes
        function selectAll() {
            var checkboxes = document.querySelectorAll('input[name="selected_options"]');
            checkboxes.forEach(function(checkbox) {
                checkbox.checked = true;
            });
        }

        // Function to deselect all checkboxes
        function deselectAll() {
            var checkboxes = document.querySelectorAll('input[name="selected_options"]');
            checkboxes.forEach(function(checkbox) {
                checkbox.checked = false;
            });
        }
    </script>
{% endblock %}
